---
import { Image } from "astro:assets";
import s1 from "../../assets/company/company-logo1.svg";
import s2 from "../../assets/company/company-logo2.svg";
import s3 from "../../assets/company/company-logo3.svg";
import s4 from "../../assets/company/company-logo4.svg";
import s5 from "../../assets/company/company-logo5.svg";
import s6 from "../../assets/company/company-logo6.svg";
import Section from "./Section.astro";

const sponsors = [
  { logo: s6, alt: "Amazon logo" },
  { logo: s5, alt: "Dribble logo" },
  { logo: s4, alt: "HubSpot logo" },
  { logo: s3, alt: "Notion logo" },
  { logo: s2, alt: "Netflix logo" },
  { logo: s1, alt: "Zoom logo" },
];
---

<Section id="sponsors">
  <div class="overflow-hidden">
    <div class="sponsors-container">
      <div class="sponsors-track">
        {
          sponsors.map((sponsor) => {
            return (
              <div class="sponsor-item px-1 py-4 grayscale transition duration-200 hover:grayscale-0">
                <Image src={sponsor.logo} class="h-12 w-auto mx-auto" alt={sponsor.alt} loading="lazy" />
              </div>
            );
          })
        }
        <!-- Duplicate logos for seamless loop -->
        {
          sponsors.map((sponsor) => {
            return (
              <div class="sponsor-item px-1 py-4 grayscale transition duration-200 hover:grayscale-0">
                <Image src={sponsor.logo} class="h-12 w-auto mx-auto" alt={sponsor.alt} loading="lazy" />
              </div>
            );
          })
        }
      </div>
    </div>
  </div> 
</Section>

<style>
  .sponsors-container {
    width: 100%;
    position: relative;
  }

  .sponsors-track {
    display: flex;
    width: calc(200%);
    animation: scroll-left 20s linear infinite;
    gap: 0;
    margin: 0;
  }

  .sponsor-item {
    flex: 0 0 auto;
    min-width: calc(100% / 6);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Pause animation on hover */
  .sponsors-container:hover .sponsors-track {
    animation-play-state: paused;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .sponsor-item {
      min-width: calc(100% / 3);
    }
    
    .sponsors-track {
      animation-duration: 15s;
    }
  }

  @media (max-width: 640px) {
    .sponsors-track {
      animation-duration: 12s;
    }
  }
</style>